library(ggplot2)
amakihi <- read.csv(file="https://synergy.st-andrews.ac.uk/ds-manda/files/2016/11/amakihi.csv")
ggplot(amakihi, aes(x=MAS, y=HAS)) + geom_point(shape=1)
install.packages("cli")
install.packages(c("carData", "data.table", "htmlwidgets", "jstor", "nloptr", "optimx", "Rcpp", "rstudioapi", "sjstats"))
setwd("C:/Users/erexs/Documents/GitHub/online-course/exercisepdfs/Ch7")
knitr::opts_chunk$set(echo = TRUE)
# Specify whether answers are shown
answer <- TRUE
# Load library
library(Distance)
nests <- read.csv(file="datasets/ducks-area-effort.csv", header=TRUE)
# used for the final question, executed under all situations
hr.model <- ds(nests, key="hr", adjustment="herm")
round(hr.model$dht$individuals$average.p,4)
534/(12.36*.8891)
hr.model$dht$individuals$summary$CoveredArea
nest.model1 <- ds(nests, key="hn", adjustment=NULL, convert.units = 0.001)
knitr::kable(nest.model1$dht$individuals$D)
49.7/48.59
crab <- read.csv("C:\\Users\\erexs\\Documents\\GitHub\\stand-intermed-2017\\practicals\\crabbieMCDS.csv")
View(crab)
unique(crab$Sample.Label)
length(unique(crab$Sample.Label))
crab <- read.csv("C:\\Users\\erexs\\Documents\\GitHub\\stand-intermed-2017\\practicals\\crabbieMCDS.csv",
stringsAsFactors = FALSE)
length(unique(crab$Sample.Label))
table(crab$Sample.Label, crab$obsname)
crabr <- read.csv("C:\\Users\\erexs\\Documents\\GitHub\\stand-intermed-2017\\practicals\\crabbieMRDS.csv",
stringsAsFactors = FALSE)
table(crabr$Sample.Label, crabr$obsname)
crabr[crabr$Sample.Label=="99A55", ]
unique(crabr$Effort)
crabr$distance[crabr$Sample.Label=="99A55", ] <- NA
crabr[crabr$Sample.Label=="99A55", "distance"] <- NA
crabr[1407:1410,]
library(mrds)
library(Distance)
crabseal <- read.csv("crabbieMRDS.csv")
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io <- ddf(method="io", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
summary(crab.ddf.io)
View(crabseal)
crabr[crabr$Sample.Label=="99A55", "distance"] <- NA
crabseal[crabseal$Sample.Label=="99A55", "distance"] <- NA
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="io", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="io.fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="trial.fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
summary(crab.ddf.io.hole)
crabseal[crabseal$Sample.Label=="99A55" & crabseal$observer==1] <- 0
crabseal[1406:1410,]
crabseal[crabseal$Sample.Label=="99A55" & crabseal$observer==1, "detected"] <- 0
crabseal[1406:1410,]
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="trial.fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
crabr[crabr$Sample.Label=="99A55" & crabr$observer==1, "object"] <- NA
crabseal[crabseal$Sample.Label=="99A55" & crabseal$observer==1, "object"] <- NA
crabseal[crabseal$Sample.Label=="99A55" & crabseal$observer==2, "object"] <- NA
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="trial.fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
crabseal[1406:1410,]
crabseal <- read.csv("crabbieMRDS.csv")
#  Half normal detection function, 700m truncation distance,
#      logit function for mark-recapture component
crab.ddf.io.hole <- ddf(method="trial.fi", dsmodel=~cds(key="hn"),
mrmodel=~glm(link="logit", formula=~distance),
data=crabseal, meta.data=list(width=700))
summary(crab.ddf.io.hole)
knitr::opts_chunk$set(echo = TRUE)
# Specify whether answers are shown
answer <- TRUE
# Load libraries
library(Distance)
library(ggplot2)
# Import Amakihi data
amakihi <- read.csv(file="https://synergy.st-andrews.ac.uk/ds-manda/files/2016/11/amakihi.csv")
hr.model0 <- ds(amakihi, transect="point", key="hr", truncation=82.5,
adjustment=NULL, order=0)
hr.model.obs <- ds(amakihi, transect="point", key="hr", formula=~OBS,
truncation=82.5)
print(hr.model.obs$ddf$criterion)
hr.model.obshas <- ds(amakihi, transect="point", key="hr", formula=~OBS+HAS,
truncation=82.5)
print(hr.model.obshas$ddf$criterion)
